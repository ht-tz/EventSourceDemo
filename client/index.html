<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="see"></div>
    <script>
        // 建立连接

        const eventSource = new EventSource('http://localhost:5500/events');
        const see = document.getElementById('see');

        // 监听客户端发来的消息
        eventSource.onmessage = function (e) {
            const data = JSON.parse(e.data);
            const messageElem = document.createElement('div');
            messageElem.innerText = data.message;
            see.appendChild(messageElem);
        }
        eventSource.onerror = function (e) {
            console.error('EventSource error:', e);
        };


    </script>

</body>

</html>